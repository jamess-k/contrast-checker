#!/usr/bin/env node
import { Contrast } from "../lib/index.js";
import { existsSync, readFileSync } from "fs";
import { inspect } from "util";
import url from "url";
const { URL } = url;
const foreground = process.argv.slice(2)[0];
const background = process.argv.slice(2)[1];
function getVersion() {
    const path = new URL("../../package.json", import.meta.url);
    if (!existsSync(path)) {
        return;
    }
    const raw = readFileSync(path, { encoding: "utf-8" });
    if (!raw) {
        return;
    }
    const packageInfo = JSON.parse(raw);
    return packageInfo.version;
}
if (!foreground || !background) {
    console.log(`contrast
v${getVersion()}
Analyse luminosity contrast ratio

Usage:
  $ contrast foreground_color background_color

Examples:
  $ contrast "#000000" "#FFFFFF"
  $ contrast "#000" "#FFF"
  $ contrast "#333" "#F8"
  $ contrast black white`);
}
else {
    const contrast = new Contrast(foreground, background);
    console.log(inspect(contrast));
}
